<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - AdiNeydiProject</title>
    <link rel="stylesheet" href="@Url.Content("~/css/site.css")" asp-append-version="true" />
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js" integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" integrity="sha512-c42qTSw/wPZ3/5LBzD+Bw5f7bSF2oxou6wEb+I/lqeaKV5FDIfMvvRp772y4jcJLKuGUOpbJMdg/BTl50fJYAw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>

    <!-- header starts -->
    <div class="header">
        <div class="header__left">
            <img src="https://upload.wikimedia.org/wikipedia/en/5/5a/Black_question_mark.png"
                 alt="" />
            <div class="header__input">
                <span class="material-icons"> search </span>
                <input type="text" placeholder="Ara..." />
            </div>
        </div>

        <div class="header__middle">
            <a   " href="/Home/Index"><img style="height:auto;width:60%;margin:0 auto;" src="~/rootimages/adineydilogokufuk.png" /></a>
            @*<div class="header__option active">
                <span class="material-icons"> home </span>
            </div>
            <div class="header__option">
                <span class="material-icons"> flag </span>
            </div>
            <div class="header__option">
                <span class="material-icons"> subscriptions </span>
            </div>
            <div class="header__option">
                <span class="material-icons"> storefront </span>
            </div>*@

        </div>

        <div class="header__right">


            @*<span class="material-icons"> forum </span>
                <span class="material-icons"> notifications_active </span>*@

            &nbsp;  &nbsp;&nbsp;

            <div class="header__info">
                @if (User.Identity.Name != null)
                {
                    <div class="btn-group dropleft">
                        <button type="button" class="btn btn-primary " data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            @User.Identity.Name


                        </button>
                        <a><i class="fa-solid fa-user"></i> @User.Claims.FirstOrDefault(c => c.Type == "Role").Value</a>

                        <div class="dropdown-menu">
                            <a class="dropdown-item" href="/Home/Userdetails/@User.Claims.FirstOrDefault(c => c.Type == "UserId").Value"><i class="fa-solid fa-user"></i> Profilim</a>
                            
                            <a class="dropdown-item" href="#"><i class="fa-solid fa-signs-post"></i> Gönderilerim</a>
                            <a class="dropdown-item" href="#"> <i class="fa-solid fa-inbox"></i> Gelen Kutusu ( Yakında ) </a>
                            <div class="dropdown-divider"></div>
                            <form action="/Account/LogoutAct" method="post">      @Html.AntiForgeryToken() <button class="dropdown-item" type="submit">  <i class="fa-solid fa-door-open"></i> Çıkış Yap</button> </form>
                        </div>
                    </div>
                    <span>
                        <img class="user__avatar"
                             src="~/rootimages/avatarpic.jpeg"
                             alt="" />
                    </span>
                }
                else
                {
                    <button class="btn btn-primary" onclick="openlogendiv()"> <i class="fa fa-user"></i>Giriş Yap </button>

                }
                <script>function openlogendiv() {
                        var logindiv2 = document.getElementById("logindiv");
                        var logindiv = document.getElementById("loginformdiv")
                        var registerdiv = document.getElementById("registerformdiv");
                        var visibility = logindiv2.style.visibility;
                        console.log(visibility);
                        if (visibility == "hidden") {
                            logindiv2.classList.add("animate__backInDown")
                            logindiv2.style.visibility = "visible";

                            logindiv.style.visibility = "visible";

                            registerdiv.style.visibility = "hidden";




                        }
                        else {

                            logindiv2.style.visibility = "hidden";
                            logindiv2.classList.remove("animate__backInDown");

                            logindiv.style.visibility = "hidden";
                            registerdiv.classList.remove("animate__backInLeft");
                            registerdiv.classList.remove("animate__backOutLeft");

                            logindiv.classList.remove("animate__backOutRight");
                            logindiv.classList.remove("animate__backInRight");

                            registerdiv.style.visibility = "hidden";

                        }
                    }</script>

                <script>function closeLoginTab() {
                        var logindiv2 = document.getElementById("logindiv");
                        var logindiv = document.getElementById("loginformdiv")
                        var registerdiv = document.getElementById("registerformdiv");
                        var visibility = logindiv2.style.visibility;

                        if (visibility == "visible") {

                            logindiv2.style.visibility = "hidden";
                            logindiv2.classList.remove("animate__backInDown");

                            logindiv.style.visibility = "hidden";
                            registerdiv.classList.remove("animate__backInLeft");
                            registerdiv.classList.remove("animate__backOutLeft");

                            logindiv.classList.remove("animate__backOutRight");
                            logindiv.classList.remove("animate__backInRight");

                            registerdiv.style.visibility = "hidden";

                        }
                    }</script>

                <div id="logindiv" style="visibility:hidden" class="animate__animated form">
                    <button onclick="closeLoginTab()" id="carpi" class="carpi">  <i class="fa-solid fa-circle-xmark"></i>  </button>
                    <div id="loginformdiv" class="animate__animated">
                        <form class="login-form" action="Account/Login" method="post">
                            @* @Html.AntiForgeryToken() *@
                            <h3>Giriş</h3>
                            <input type="text" name="txtUserName" placeholder="Kullanıcı adı..." />
                            <input type="password" name="txtPassword" placeholder="Şifre..." />
                            <button type="submit">Giriş Yap &nbsp; <i class="fa-solid fa-right-to-bracket"></i></button>

                            <button type="button" onclick="changeSection()" class="message">Üyeliğim Yok  &nbsp; <i class="fa-solid fa-toggle-on"></i></button>
                        </form>
                    </div>

                    <div id="registerformdiv" class="animate__animated" style="visibility:hidden;">
                        <form class="register-form" action="/Account/Register" method="post">
                            @Html.AntiForgeryToken()
                            <h3>Kayıt</h3>

                            <input type="text" name="FirstName" placeholder="İsim..." />
                            <input type="text" name="LastName" placeholder="Soyad.." />
                            <input type="text" name="UserName" maxlength="30" placeholder="Kullanıcı Adı.." />

                            <input type="email" name="Email" placeholder="Email.." />

                            <input type="password" name="password" placeholder="password" />
                            <button type="submit">Kayıt Ol &nbsp;  <i class="fa-solid fa-user-plus"> </i></button>


                            <button type="button" onclick="changeSection()" class="message">Üyeliğim Var &nbsp;<i class="fa-solid fa-toggle-off"></i> </button>
                        </form>
                    </div>

                </div>


                <script>async function changeSection() {
                        var logindiv = document.getElementById("loginformdiv")
                        var registerdiv = document.getElementById("registerformdiv");
                        var visibilitylogindiv = logindiv.style.visibility;

                        if (visibilitylogindiv == "hidden") {
                            logindiv.style.visibility = "visible"; // or "visible" to show it again


                            logindiv.classList.remove("animate__backOutRight");

                            logindiv.classList.add("animate__backInRight")

                            registerdiv.classList.remove("animate__backInLeft");

                            registerdiv.classList.add("animate__backOutLeft")

                            await new Promise(resolve => setTimeout(resolve, 1000)); // 3 sec

                            registerdiv.style.visibility = "hidden";




                        }
                        else if (visibilitylogindiv == "visible") {
                            registerdiv.style.visibility = "visible";

                            logindiv.classList.remove("animate__backInRight");
                            logindiv.classList.add("animate__backOutRight")
                            registerdiv.classList.remove("animate__backOutLeft");
                            registerdiv.classList.add("animate__backInLeft")

                            await new Promise(resolve => setTimeout(resolve, 1000)); // 3 sec

                            logindiv.style.visibility = "hidden"; // or "visible" to show it again

                        }

                    }</script>

            </div>




        </div>
    </div>
    <!-- header ends -->
    <!-- main body starts -->
    <div class="main__body">
        <!-- sidebar starts -->
        <a href="#" class="fixed-button-black" id="dark-mode-button" onclick="toggleDarkMode()">  <i id="mode-icon" class="fa fa-moon"></i> </a> 
  


        @RenderBody()
    </div>
    <!-- feed ends -->
    <!-- main body ends -->

    <div id="fb-root"></div>

    <script>
        // Sayfa yüklendiğinde tema uygulanacak
        function toggleDarkMode() {
            event.preventDefault();
            var body = document.getElementsByTagName("body")[0];
            var icon = document.getElementById("mode-icon");

            // toggle body class
            body.classList.toggle("dark-mode");

            // toggle icon class and title
            if (body.classList.contains("dark-mode")) {
                icon.classList.remove("fa-moon");
                icon.classList.add("fa-sun");
                icon.title = "Light Mode";
            } else {
                icon.classList.remove("fa-sun");
                icon.classList.add("fa-moon");
                icon.title = "Dark Mode";
            }

            // toggle post__bottom and post__options classes
            var postBottomOptions = document.querySelectorAll('.post__bottom, .post__options, .post__image , .card , .list-group-item , .card-text, .postsection , .header ,.post__top, .card-header,.jumbotron');
            postBottomOptions.forEach(function (element) {
                element.classList.toggle("dark-mode");
            });

            // toggle postSection class
            var postSection = document.querySelectorAll('.postSection');
            postSection.forEach(function (element) {
                element.classList.toggle("dark-mode-section");
            });
        }

        function applyTheme(isDarkMode, newElement) {
            if (newElement.classList.contains("postSection")) {
                newElement.style.backgroundColor = isDarkMode ? "#333" : "#fff";
                newElement.style.color = isDarkMode ? "#fff" : "#333";
                newElement.style.border = isDarkMode ? "1px solid #fff" : "1px solid #333";
            }

            if (newElement.classList.contains("post__bottom")) {
                newElement.style.backgroundColor = isDarkMode ? "#333" : "#fff";
                newElement.style.color = isDarkMode ? "#fff" : "#333";
            }

            if (newElement.classList.contains("post__options")) {
                newElement.style.backgroundColor = isDarkMode ? "#333" : "#fff";
                newElement.style.color = isDarkMode ? "#fff" : "#333";
            }

            if (newElement.classList.contains("post__image")) {
                newElement.style.backgroundColor = isDarkMode ? "#333" : "#fff";
                newElement.style.color = isDarkMode ? "#fff" : "#333";
            }
        }


       

    </script>
</body>


</html>

